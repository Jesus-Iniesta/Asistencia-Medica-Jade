<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema MÃ©dico - JADE</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <header>
        <h1>ğŸ¥ Sistema de AtenciÃ³n MÃ©dica</h1>
        <p>Sistema distribuido con agentes inteligentes</p>
    </header>

    <!-- PASO 0: BotÃ³n inicial -->
    <div id="step-inicio" class="card">
        <h2>ğŸ‘‹ Bienvenido al Sistema MÃ©dico</h2>
        <p style="color: #6b7280; margin-bottom: 24px; line-height: 1.6;">
            Para comenzar tu consulta mÃ©dica, presiona el botÃ³n a continuaciÃ³n para pasar a recepciÃ³n.
        </p>
        <button id="btnPasarRecepcion" class="btn-primary">
            ğŸ“‹ Pasar a RecepciÃ³n
        </button>
    </div>

    <!-- PASO 1: Registro en recepciÃ³n -->
    <div id="step-recepcion" class="card" style="display: none;">
        <h2>ğŸ“‹ Registro en RecepciÃ³n</h2>
        <p style="color: #6b7280; margin-bottom: 20px;">
            Por favor, proporciona tus datos personales para el registro
        </p>
        <form id="recepcionForm">
            <div class="form-group">
                <label>Nombre Completo *</label>
                <input type="text" id="nombre" placeholder="Ej: Juan PÃ©rez GarcÃ­a" required>
            </div>

            <div class="form-group">
                <label>Edad *</label>
                <input type="number" id="edad" placeholder="Ej: 30" min="1" max="120" required>
            </div>

            <div class="form-group">
                <label>GÃ©nero *</label>
                <select id="genero" required>
                    <option value="">Selecciona...</option>
                    <option value="Masculino">Masculino</option>
                    <option value="Femenino">Femenino</option>
                    <option value="Otro">Otro</option>
                </select>
            </div>

            <div class="form-group">
                <label>SÃ­ntomas Principales *</label>
                <textarea id="sintomas" rows="4" placeholder="Describe tus sÃ­ntomas aquÃ­..." required></textarea>
            </div>

            <button type="submit" class="btn-primary">
                âœ… Registrar y Continuar
            </button>
        </form>
    </div>

    <!-- PASO 2: Signos vitales con enfermero -->
    <div id="step-enfermero" class="card" style="display: none;">
        <h2>ğŸ’‰ Toma de Signos Vitales - Enfermero</h2>
        <p style="color: #6b7280; margin-bottom: 20px;">
            El enfermero estÃ¡ registrando tus signos vitales...
        </p>

        <div id="signos-vitales" class="signos-container">
            <div class="signo-item">
                <div class="signo-icon">ğŸŒ¡ï¸</div>
                <div class="signo-info">
                    <h4>Temperatura</h4>
                    <p id="valor-temperatura" class="signo-valor">--</p>
                    <div class="progress-bar">
                        <div id="progress-temperatura" class="progress-fill"></div>
                    </div>
                </div>
            </div>

            <div class="signo-item">
                <div class="signo-icon">ğŸ“</div>
                <div class="signo-info">
                    <h4>Altura</h4>
                    <p id="valor-altura" class="signo-valor">--</p>
                    <div class="progress-bar">
                        <div id="progress-altura" class="progress-fill"></div>
                    </div>
                </div>
            </div>

            <div class="signo-item">
                <div class="signo-icon">â¤ï¸</div>
                <div class="signo-info">
                    <h4>Ritmo CardÃ­aco</h4>
                    <p id="valor-ritmo" class="signo-valor">--</p>
                    <div class="progress-bar">
                        <div id="progress-ritmo" class="progress-fill"></div>
                    </div>
                </div>
            </div>

            <div class="signo-item">
                <div class="signo-icon">ğŸ©º</div>
                <div class="signo-info">
                    <h4>PresiÃ³n Arterial</h4>
                    <p id="valor-presion" class="signo-valor">--</p>
                    <div class="progress-bar">
                        <div id="progress-presion" class="progress-fill"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="status-enfermero" class="status-message" style="margin-top: 20px;">
            <div class="loading"></div>
            <span>Tomando mediciones...</span>
        </div>
    </div>

    <!-- PASO 3: Consulta con el doctor -->
    <div id="step-doctor" class="card" style="display: none;">
        <h2>ğŸ‘¨â€âš•ï¸ Consulta MÃ©dica</h2>
        <div id="estado" class="status-box">
            <p>El doctor estÃ¡ revisando tu caso...</p>
        </div>
    </div>

    <!-- PASO 4: Resultado del diagnÃ³stico -->
    <div id="step-diagnostico" class="card" style="display: none;">
        <h2>ğŸ©º Resultado del DiagnÃ³stico</h2>
        <div id="diagnostico" class="diagnostico-box">
            <!-- El diagnÃ³stico se mostrarÃ¡ aquÃ­ -->
        </div>

        <button id="btnProcederCobro" class="btn-primary" style="margin-top: 20px; display: none;">
            ğŸ’³ Proceder al Pago
        </button>
    </div>

    <!-- PASO 5: Cobro final -->
    <div id="step-cobro" class="card" style="display: none;">
        <h2>ğŸ’° Pago de Consulta</h2>
        <div style="background: linear-gradient(135deg, #8b5cf615, #ffffff);
                    border-left: 4px solid #8b5cf6;
                    padding: 16px;
                    border-radius: 8px;
                    margin-bottom: 24px;">
            <p style="margin: 0; color: #7c3aed; font-weight: 600; font-size: 1.05em;">
                ğŸ‘¨â€ğŸ’¼ Recepcionista: Procesando tu pago...
            </p>
        </div>

        <div class="resumen-cobro">
            <h3>ğŸ“‹ Resumen de la Consulta</h3>
            <div class="cobro-item">
                <span>Paciente:</span>
                <span id="cobro-nombre" class="cobro-valor">--</span>
            </div>
            <div class="cobro-item">
                <span>Consulta mÃ©dica:</span>
                <span class="cobro-valor">$500.00</span>
            </div>
            <div class="cobro-item">
                <span>Signos vitales:</span>
                <span class="cobro-valor">$200.00</span>
            </div>
            <div class="cobro-item total">
                <span>Total a pagar:</span>
                <span class="cobro-valor">$700.00</span>
            </div>
        </div>

        <div class="metodo-pago" style="margin-top: 30px;">
            <h4>MÃ©todo de Pago</h4>
            <div class="pago-opciones">
                <button class="btn-pago" data-metodo="efectivo">
                    ğŸ’µ Efectivo
                </button>
                <button class="btn-pago" data-metodo="tarjeta">
                    ğŸ’³ Tarjeta
                </button>
                <button class="btn-pago" data-metodo="transferencia">
                    ğŸ¦ Transferencia
                </button>
            </div>
        </div>

        <div id="recibo-pago" style="display: none; margin-top: 30px;">
            <div class="recibo-completo">
                <div class="recibo-header">
                    <h3>âœ… Pago Completado</h3>
                    <p>Gracias por tu pago</p>
                </div>
                <div class="recibo-info">
                    <p><strong>MÃ©todo:</strong> <span id="metodo-seleccionado">--</span></p>
                    <p><strong>Fecha:</strong> <span id="fecha-pago">--</span></p>
                    <p><strong>Folio:</strong> <span id="folio-pago">--</span></p>
                </div>
                <button id="btnVerReceta" class="btn-primary" style="margin-bottom: 10px;">
                    ğŸ“„ Ver Receta MÃ©dica
                </button>
                <button id="btnNuevaConsulta" class="btn-primary">
                    ğŸ”„ Nueva Consulta
                </button>
            </div>
        </div>
    </div>

    <!-- PASO 6: Receta MÃ©dica -->
    <div id="step-receta" class="card" style="display: none;">
        <div class="receta-medica" id="receta-container">
            <!-- La receta se generarÃ¡ dinÃ¡micamente -->
        </div>

        <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">
            <button id="btnImprimirReceta" class="btn-secondary">
                ğŸ–¨ï¸ Imprimir Receta
            </button>
            <button id="btnVolverInicio" class="btn-primary">
                ğŸ  Volver al Inicio
            </button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>